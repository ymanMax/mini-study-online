<!--pages/Home/home.wxml-->
<view class="home-container">
	<!-- 搜索框 -->
	<search-bar tips="请输入课程的名称"></search-bar>
	<!-- 轮播图 -->
	<swiper autoplay circular indicator-dots indicator-color="#ccc" indicator-active-color="#fff">
		<navigator wx:for="{{swiperImages}}" wx:key="{{item.id}}">
			<swiper-item>
				<image src="{{item.img_url}}"></image>
			</swiper-item>
		</navigator>
	</swiper>
</view>
<!-- 推荐课程 -->
<view>
	<view class="tips">
		<text class="tip">推荐课程</text>
		<image bindtap="goToCoursePage" src="/assets/images/arrow@2x.png" alt="" />
	</view>
	<scroll-view scroll-x class="course-container">
		<navigator class="course-item" wx:for="{{course}}" wx:key="{{item.id}}">
			<image src="{{item.icon}}" alt="" />
		</navigator>
	</scroll-view>
</view>
<!-- 猜你喜欢 -->
<view wx:if="{{guessYouLike.length > 0}}">
	<view class="tips">
		<text class="tip">猜你喜欢</text>
		<image src="/assets/images/arrow@2x.png" alt="" />
	</view>
	<view class="recommend-courses">
		<navigator class="recommend-item" wx:for="{{guessYouLike}}" wx:key="{{item.id}}">
			<image class="course-icon" src="{{item.icon}}" alt="" />
			<view class="course-info">
				<text class="course-title">{{item.title}}</text>
				<text class="course-subtitle">{{item.subtitle}}</text>
				<view class="course-meta">
					<text class="course-level">Lv.{{item.level}}</text>
					<text class="match-score">匹配度{{(item.match_score * 100).toFixed(0)}}%</text>
				</view>
			</view>
		</navigator>
	</view>
</view>

<!-- 热门课程 -->
<view wx:if="{{hotCourses.length > 0}}">
	<view class="tips">
		<text class="tip">热门课程</text>
		<image src="/assets/images/arrow@2x.png" alt="" />
	</view>
	<view class="hot-courses">
		<navigator class="hot-item" wx:for="{{hotCourses}}" wx:key="{{item.id}}">
			<image class="course-icon" src="{{item.icon}}" alt="" />
			<view class="course-info">
				<text class="course-title">{{item.title}}</text>
				<text class="course-subtitle">{{item.subtitle}}</text>
				<view class="course-meta">
					<text class="course-level">Lv.{{item.level}}</text>
					<text class="enroll-count">{{item.enroll_count}}人已报名</text>
					<text class="rating">★{{item.rating}}</text>
				</view>
			</view>
		</navigator>
	</view>
</view>

<!-- 热门视频 -->
<view>
	<view class="tips">
		<text class="tip">热门视频</text>
		<image bindtap="goToCourseDetail" data-id="{{3}}" src="/assets/images/arrow@2x.png" alt="" />
	</view>
	<view class="hot-video">
		<navigator class="video-item" wx:for="{{videos}}" wx:key="{{item.id}}">
			<image src="{{item.cover_photo_url}}" alt="" />
			<text class="title">{{item.name}}</text>
			<text class="subtitle">{{item.view_count}}人已观看</text>
		</navigator>
	</view>
</view>